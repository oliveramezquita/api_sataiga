INFO 2025-02-26 03:28:31,892 autoreload 8983 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py changed, reloading.
INFO 2025-02-26 03:28:32,422 autoreload 17395 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 03:29:54,600 autoreload 17395 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/settings.py changed, reloading.
INFO 2025-02-26 03:29:54,908 autoreload 18392 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 03:37:23,119 autoreload 23742 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 03:38:32,533 log 23742 6163771392 Internal Server Error: /api/users
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/mailjet.py", line 54, in parse_recipient_status
    for result in parsed_response["Messages"]:
                  ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'Messages'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py", line 51, in save
    send_email(
    ~~~~~~~~~~^
        template="mail_templated/register.html",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        },
        ^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 34, in send_email
    send_mail(
    ~~~~~~~~~^
        template_name=template,
        ^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        recipient_list=to
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/mail_templated/utils.py", line 93, in send_mail
    connection=connection, **kwargs).send(clean=clean)
                                     ~~~~^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/mail_templated/message.py", line 227, in send
    return super(EmailMessage, self).send(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/mail/message.py", line 301, in send
    return self.get_connection(fail_silently).send_messages([self])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base.py", line 117, in send_messages
    sent = self._send(message)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base_requests.py", line 51, in _send
    return super()._send(message)
           ~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base.py", line 150, in _send
    recipient_status = self.parse_recipient_status(response, payload, message)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/mailjet.py", line 70, in parse_recipient_status
    raise AnymailRequestsAPIError(
    ...<5 lines>...
    ) from err
anymail.exceptions.AnymailRequestsAPIError: Invalid Mailjet API response format
KeyError: 'Messages'
Mailjet API response 401 (Unauthorized):
{
  "ErrorIdentifier": "ccd25ecd-a13f-4db3-86bc-8055efe00908",
  "StatusCode": 401,
  "ErrorMessage": "API key authentication/authorization failure. You may be unauthorized to access the API or your API key may be expired. Visit API keys management section to check your keys."
}
ERROR 2025-02-26 03:41:41,685 log 23742 6180597760 Internal Server Error: /api/users
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/mailjet.py", line 54, in parse_recipient_status
    for result in parsed_response["Messages"]:
                  ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'Messages'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py", line 51, in save
    send_email(
    ~~~~~~~~~~^
        template="mail_templated/register.html",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        },
        ^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 34, in send_email
    send_mail(
    ~~~~~~~~~^
        template_name=template,
        ^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        recipient_list=to
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/mail_templated/utils.py", line 93, in send_mail
    connection=connection, **kwargs).send(clean=clean)
                                     ~~~~^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/mail_templated/message.py", line 227, in send
    return super(EmailMessage, self).send(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/mail/message.py", line 301, in send
    return self.get_connection(fail_silently).send_messages([self])
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base.py", line 117, in send_messages
    sent = self._send(message)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base_requests.py", line 51, in _send
    return super()._send(message)
           ~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/base.py", line 150, in _send
    recipient_status = self.parse_recipient_status(response, payload, message)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/mailjet.py", line 70, in parse_recipient_status
    raise AnymailRequestsAPIError(
    ...<5 lines>...
    ) from err
anymail.exceptions.AnymailRequestsAPIError: Invalid Mailjet API response format
KeyError: 'Messages'
Mailjet API response 401 (Unauthorized):
{
  "ErrorIdentifier": "f2fe61ec-d27f-46a0-af22-5080134562c2",
  "StatusCode": 401,
  "ErrorMessage": "API key authentication/authorization failure. You may be unauthorized to access the API or your API key may be expired. Visit API keys management section to check your keys."
}
INFO 2025-02-26 03:53:33,793 autoreload 23742 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/settings.py changed, reloading.
INFO 2025-02-26 03:53:34,357 autoreload 35215 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 03:54:10,174 log 35215 6190985216 Internal Server Error: /api/users
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py", line 51, in save
    send_email(
    ~~~~~~~~~~^
        template="mail_templated/register.html",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        },
        ^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 34, in send_email
    send_mail(
    ~~~~~~~~~^
        template_name=template,
        ^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        recipient_list=to
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/mail_templated/utils.py", line 87, in send_mail
    connection = connection or mail.get_connection(username=auth_user,
                               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
                                                   password=auth_password,
                                                   ^^^^^^^^^^^^^^^^^^^^^^^
                                                   fail_silently=fail_silently)
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/mail/__init__.py", line 52, in get_connection
    return klass(fail_silently=fail_silently, **kwds)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/backends/mailjet.py", line 17, in __init__
    self.api_key = get_anymail_setting(
                   ~~~~~~~~~~~~~~~~~~~^
        "api_key", esp_name=esp_name, kwargs=kwargs, allow_bare=True
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/anymail/utils.py", line 485, in get_anymail_setting
    raise AnymailConfigurationError(message) from None
anymail.exceptions.AnymailConfigurationError: You must set ANYMAIL_MAILJET_API_KEY or ANYMAIL = {'MAILJET_API_KEY': ...} or MAILJET_API_KEY in your Django settings
INFO 2025-02-26 03:54:58,849 autoreload 36225 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:10:18,136 autoreload 36225 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:10:18,511 autoreload 47073 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:10:52,536 autoreload 47073 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:10:52,830 autoreload 47498 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:11:59,632 autoreload 47498 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py changed, reloading.
INFO 2025-02-26 04:12:00,046 autoreload 48284 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:12:42,313 autoreload 48284 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py changed, reloading.
INFO 2025-02-26 04:12:42,711 autoreload 48821 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:13:58,017 autoreload 48821 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py changed, reloading.
INFO 2025-02-26 04:13:58,325 autoreload 49700 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:23:17,780 autoreload 49700 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:23:18,182 autoreload 56264 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:24:22,035 autoreload 56264 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:24:22,380 autoreload 57001 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:24:59,451 autoreload 57001 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:24:59,773 autoreload 57447 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:25:20,463 autoreload 57447 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:25:20,791 autoreload 57722 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:29:50,832 autoreload 57722 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:29:51,178 autoreload 60959 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:29:59,541 autoreload 60959 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:29:59,838 autoreload 61070 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:30:10,229 autoreload 61070 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:30:10,525 autoreload 61199 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:30:27,073 autoreload 61199 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:30:27,376 autoreload 61430 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:35:29,386 autoreload 61430 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:35:29,708 autoreload 64963 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:35:46,289 autoreload 64963 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:35:46,600 autoreload 65171 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:36:54,500 autoreload 65171 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:36:54,830 autoreload 65976 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:37:19,642 autoreload 65976 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:37:19,935 autoreload 66278 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:38:05,214 autoreload 66278 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:38:05,551 autoreload 66818 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:45:50,586 autoreload 66818 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:45:50,991 autoreload 72314 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:52:47,721 autoreload 72314 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:52:49,115 autoreload 77245 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:53:06,141 autoreload 77245 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:53:06,460 autoreload 77462 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:53:17,884 autoreload 77462 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:53:18,194 autoreload 77621 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:53:33,717 autoreload 77621 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:53:34,013 autoreload 77828 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:53:48,551 autoreload 77828 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:53:48,842 autoreload 78006 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:54:00,275 autoreload 78006 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 04:54:00,579 autoreload 78136 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 04:54:12,999 autoreload 78136 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 04:54:13,293 autoreload 78316 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 13:03:03,758 log 78316 6197915648 Forbidden: /api/users
WARNING 2025-02-26 13:03:11,569 log 78316 6197915648 Forbidden: /api/users
ERROR 2025-02-26 13:03:50,947 user_use_case 78316 6197915648 email
ERROR 2025-02-26 13:03:50,947 log 78316 6197915648 Internal Server Error: /api/user/67be958acddbb709159070e4
INFO 2025-02-26 13:04:48,619 autoreload 78316 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 13:04:49,078 autoreload 50603 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:05:10,712 autoreload 50603 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 13:05:11,037 autoreload 50857 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 13:05:14,879 log 50857 6195523584 Bad Request: /api/user/67be958acddbb709159070e4
INFO 2025-02-26 13:05:30,814 autoreload 50857 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 13:05:31,220 autoreload 51108 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:08:03,201 autoreload 51108 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 13:08:03,617 autoreload 52903 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:08:31,504 autoreload 52903 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 13:08:31,839 autoreload 53254 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:09:04,813 autoreload 53254 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:09:05,187 autoreload 53656 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:09:16,653 autoreload 53656 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:09:16,942 autoreload 53789 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 13:09:38,686 log 53789 6162788352 Bad Request: /api/user/67be958acddbb709159070e4
INFO 2025-02-26 13:10:29,889 autoreload 53789 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:10:30,279 autoreload 54664 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:15:24,320 autoreload 54664 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py changed, reloading.
INFO 2025-02-26 13:15:24,671 autoreload 58120 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:15:50,453 autoreload 58120 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py changed, reloading.
INFO 2025-02-26 13:15:50,754 autoreload 58424 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 13:17:41,987 log 58424 6199717888 Forbidden: /api/roles
INFO 2025-02-26 13:21:05,326 autoreload 58424 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 13:21:05,688 autoreload 62099 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:21:18,153 autoreload 62099 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 13:21:18,505 autoreload 62280 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:23:33,225 autoreload 62280 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 13:23:33,624 autoreload 63855 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:23:44,109 autoreload 63855 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 13:23:44,459 autoreload 64013 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:25:10,889 autoreload 64013 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/__init__.py changed, reloading.
INFO 2025-02-26 13:25:11,200 autoreload 65013 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:26:45,670 autoreload 65013 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/urls.py changed, reloading.
INFO 2025-02-26 13:26:45,999 autoreload 66134 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:26:59,442 autoreload 66134 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/urls.py changed, reloading.
INFO 2025-02-26 13:26:59,748 autoreload 66312 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:46:32,208 autoreload 66312 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:46:32,609 autoreload 80047 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:46:49,155 autoreload 80047 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:46:49,502 autoreload 80257 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:47:05,001 autoreload 80257 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:47:05,312 autoreload 80460 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:58:52,253 autoreload 80460 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:58:52,658 autoreload 88730 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 13:59:49,345 autoreload 88730 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 13:59:49,704 autoreload 89403 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:00:17,595 autoreload 89403 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:00:17,927 autoreload 89752 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:00:30,416 autoreload 89752 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:00:30,729 autoreload 89906 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:01:19,092 autoreload 89906 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:01:19,421 autoreload 90484 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:02:21,254 autoreload 90484 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:02:21,782 autoreload 91240 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:02:44,497 autoreload 91240 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:02:44,846 autoreload 91549 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:02:58,524 autoreload 91549 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:02:58,849 autoreload 91734 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:03:15,356 autoreload 91734 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:03:15,653 autoreload 91936 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 14:04:53,776 ExceptionHandler 91936 6203584512 Ocurrió una excepción en login: 'password1'
ERROR 2025-02-26 14:04:53,777 ExceptionHandler 91936 6203584512 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/handlers/ExceptionHandler.py", line 13, in wrapper
    return method(*args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py", line 27, in login
    if verify_password(self.data['password1'], user[0]['password']):
                       ~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'password1'

ERROR 2025-02-26 14:04:53,778 log 91936 6203584512 Internal Server Error: /api/login
INFO 2025-02-26 14:05:49,948 autoreload 91936 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/handlers/ExceptionHandler.py changed, reloading.
INFO 2025-02-26 14:05:50,333 autoreload 93795 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:06:27,494 autoreload 93795 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:06:27,811 autoreload 94252 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:06:44,311 autoreload 94252 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:06:44,611 autoreload 94457 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:07:19,605 autoreload 94457 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:07:19,917 autoreload 94877 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 14:07:27,069 ExceptionHandler 94877 6199586816 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/handlers/ExceptionHandler.py", line 13, in wrapper
    return method(*args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py", line 45, in password_request
    user_id = str(user[0]['_ids'])
                  ~~~~~~~^^^^^^^^
KeyError: '_ids'

ERROR 2025-02-26 14:07:27,069 log 94877 6199586816 Internal Server Error: /api/password_request
INFO 2025-02-26 14:07:48,793 autoreload 94877 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:07:49,087 autoreload 95246 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:07:51,296 autoreload 95246 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:07:51,489 autoreload 95279 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:08:01,879 autoreload 95279 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:08:02,216 autoreload 95418 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:08:06,500 autoreload 95418 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:08:06,772 autoreload 95499 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 14:08:10,997 autoreload 95499 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 14:08:11,187 autoreload 95556 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:06:58,531 autoreload 7324 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:07:20,253 autoreload 7324 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py changed, reloading.
INFO 2025-02-26 17:07:20,574 autoreload 7589 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 17:07:39,145 log 7589 6192246784 Internal Server Error: /api/roles
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 269, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 2, got 1)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 414, in initial
    self.perform_authentication(request)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 324, in perform_authentication
    request.user
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 231, in user
    self._authenticate()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 20, in authenticate
    user = self.get_user_from_token(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 28, in get_user_from_token
    payload = decode_user(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 14, in decode_user
    decoded_data = jwt.decode(
        jwt=token, key=settings.AUTH_SECRET, algorithms=["HS256"])
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
        jwt,
    ...<8 lines>...
        leeway=leeway,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 156, in decode_complete
    decoded = api_jws.decode_complete(
        jwt,
    ...<3 lines>...
        detached_payload=detached_payload,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 209, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                ~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 272, in _load
    raise DecodeError("Not enough segments") from err
jwt.exceptions.DecodeError: Not enough segments
ERROR 2025-02-26 17:08:09,345 ExceptionHandler 7589 6192246784 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/handlers/ExceptionHandler.py", line 13, in wrapper
    return method(*args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py", line 24, in login
    if verify_password(self.data['password1'], user[0]['password']):
                       ~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'password1'

ERROR 2025-02-26 17:08:09,346 log 7589 6192246784 Internal Server Error: /api/login
INFO 2025-02-26 17:08:26,450 autoreload 7589 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 17:08:26,810 autoreload 8394 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 17:08:45,958 log 8394 6167621632 Forbidden: /api/roles
INFO 2025-02-26 17:09:28,665 autoreload 8394 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:09:29,012 autoreload 9122 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:09:32,250 autoreload 9122 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:09:32,520 autoreload 9180 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:09:35,721 autoreload 9180 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:09:35,925 autoreload 9237 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:09:38,110 autoreload 9237 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:09:38,320 autoreload 9263 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:12:20,639 autoreload 9263 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/__init__.py changed, reloading.
INFO 2025-02-26 17:12:21,024 autoreload 11182 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:15:43,560 autoreload 11182 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/settings.py changed, reloading.
INFO 2025-02-26 17:15:43,923 autoreload 13566 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:16:13,898 autoreload 13566 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/settings.py changed, reloading.
INFO 2025-02-26 17:16:14,191 autoreload 13917 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:16:40,036 autoreload 13917 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 17:16:40,341 autoreload 14242 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:17:13,360 autoreload 14242 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py changed, reloading.
INFO 2025-02-26 17:17:13,655 autoreload 14640 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:18:22,458 autoreload 15462 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:20:50,501 autoreload 15462 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:20:50,844 autoreload 17192 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:21:03,398 autoreload 17192 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:21:03,711 autoreload 17351 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:22:17,746 autoreload 17351 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:22:18,118 autoreload 18254 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 17:22:48,620 exception 18254 6200668160 Ocurrió una excepción: 'MongoDBHandler' object has no attribute 'extracts'
ERROR 2025-02-26 17:22:48,622 exception 18254 6200668160 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py", line 15, in get
    return use_case.get()
           ~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py", line 31, in get
    roles = db.extracts()
            ^^^^^^^^^^^
AttributeError: 'MongoDBHandler' object has no attribute 'extracts'. Did you mean: 'extract'?

ERROR 2025-02-26 17:22:48,623 log 18254 6200668160 Internal Server Error: /api/roles
INFO 2025-02-26 17:26:04,006 autoreload 18254 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/exception.py changed, reloading.
INFO 2025-02-26 17:26:04,368 autoreload 20974 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 17:26:07,126 exception 20974 6130937856 Ocurrió una excepción: 'MongoDBHandler' object has no attribute 'extracts'
ERROR 2025-02-26 17:26:07,127 exception 20974 6130937856 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py", line 15, in get
    return use_case.get()
           ~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py", line 31, in get
    roles = db.extracts()
            ^^^^^^^^^^^
AttributeError: 'MongoDBHandler' object has no attribute 'extracts'. Did you mean: 'extract'?

ERROR 2025-02-26 17:26:07,128 log 20974 6130937856 Internal Server Error: /api/roles
INFO 2025-02-26 17:29:06,152 autoreload 20974 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:29:06,508 autoreload 23103 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:29:12,844 autoreload 23103 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:29:13,128 autoreload 23211 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:31:13,419 autoreload 23211 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:31:13,730 autoreload 24605 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 17:31:49,026 exception 24605 6125711360 Ocurrió una excepción: E11000 duplicate key error collection: bellarti.roles index: value_1 dup key: { value: "coo" }, full error: {'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: bellarti.roles index: value_1 dup key: { value: "coo" }', 'keyPattern': {'value': 1}, 'keyValue': {'value': 'coo'}}
ERROR 2025-02-26 17:31:49,035 exception 24605 6125711360 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py", line 18, in save
    db.insert(self.data)
    ~~~~~~~~~^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/handlers/mongodb_handler.py", line 30, in insert
    result = collection.insert_one(data)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/collection.py", line 891, in insert_one
    self._insert_one(
    ~~~~~~~~~~~~~~~~^
        document,
        ^^^^^^^^^
    ...<5 lines>...
        comment=comment,
        ^^^^^^^^^^^^^^^^
    ),
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/collection.py", line 831, in _insert_one
    self._database.client._retryable_write(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        acknowledged, _insert_command, session, operation=_Op.INSERT
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 1896, in _retryable_write
    return self._retry_with_session(retryable, func, s, bulk, operation, operation_id)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 1782, in _retry_with_session
    return self._retry_internal(
           ~~~~~~~~~~~~~~~~~~~~^
        func=func,
        ^^^^^^^^^^
    ...<4 lines>...
        operation_id=operation_id,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/_csot.py", line 119, in csot_wrapper
    return func(self, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 1828, in _retry_internal
    ).run()
      ~~~^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 2565, in run
    return self._read() if self._is_read else self._write()
                                              ~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/mongo_client.py", line 2687, in _write
    return self._func(self._session, conn, self._retryable)  # type: ignore
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/synchronous/collection.py", line 829, in _insert_command
    _check_write_command_response(result)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/helpers_shared.py", line 285, in _check_write_command_response
    _raise_last_write_error(write_errors)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/pymongo/helpers_shared.py", line 255, in _raise_last_write_error
    raise DuplicateKeyError(error.get("errmsg"), 11000, error)
pymongo.errors.DuplicateKeyError: E11000 duplicate key error collection: bellarti.roles index: value_1 dup key: { value: "coo" }, full error: {'index': 0, 'code': 11000, 'errmsg': 'E11000 duplicate key error collection: bellarti.roles index: value_1 dup key: { value: "coo" }', 'keyPattern': {'value': 1}, 'keyValue': {'value': 'coo'}}

ERROR 2025-02-26 17:31:49,036 log 24605 6125711360 Internal Server Error: /api/roles
INFO 2025-02-26 17:32:06,249 autoreload 24605 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:06,598 autoreload 25247 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:32:14,979 autoreload 25247 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:15,247 autoreload 25356 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 17:32:18,277 log 25356 6126710784 Bad Request: /api/roles
INFO 2025-02-26 17:32:24,678 autoreload 25356 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:24,998 autoreload 25464 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:32:27,256 autoreload 25464 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:27,476 autoreload 25520 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:32:36,865 autoreload 25520 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:37,181 autoreload 25626 8466331712 Watching for file changes with StatReloader
ERROR 2025-02-26 17:32:41,803 exception 25626 6157168640 Ocurrió una excepción: 'MongoDBHandler' object has no attribute 'create_unique_indexs'
ERROR 2025-02-26 17:32:41,804 exception 25626 6157168640 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py", line 19, in save
    db.create_unique_indexs('value')
    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MongoDBHandler' object has no attribute 'create_unique_indexs'. Did you mean: 'create_unique_index'?

ERROR 2025-02-26 17:32:41,804 log 25626 6157168640 Internal Server Error: /api/roles
INFO 2025-02-26 17:32:47,643 autoreload 25626 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:32:47,955 autoreload 25756 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 17:32:51,233 log 25756 6162395136 Bad Request: /api/roles
INFO 2025-02-26 17:37:58,161 autoreload 25756 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:37:58,516 autoreload 29440 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:38:57,203 autoreload 29440 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:38:57,545 autoreload 30126 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:39:04,940 autoreload 30126 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:39:05,372 autoreload 30237 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:39:24,032 autoreload 30237 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/role_use_case.py changed, reloading.
INFO 2025-02-26 17:39:24,332 autoreload 30474 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:39:40,914 autoreload 30474 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/role.py changed, reloading.
INFO 2025-02-26 17:39:41,267 autoreload 30687 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 17:39:50,973 log 30687 6194393088 Forbidden: /api/roles
WARNING 2025-02-26 17:39:55,299 log 30687 6194393088 Bad Request: /api/roles
INFO 2025-02-26 17:40:43,073 autoreload 30687 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/auth_use_case.py changed, reloading.
INFO 2025-02-26 17:40:43,422 autoreload 31435 8466331712 Watching for file changes with StatReloader
WARNING 2025-02-26 17:41:31,127 log 31435 6155563008 Bad Request: /api/restore_password
INFO 2025-02-26 17:43:05,300 autoreload 31435 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:43:05,618 autoreload 33111 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:43:12,961 autoreload 33111 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:43:13,272 autoreload 33219 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:43:17,533 autoreload 33219 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:43:17,732 autoreload 33276 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:43:29,159 autoreload 33276 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:43:29,450 autoreload 33429 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:43:53,167 autoreload 33429 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:43:53,514 autoreload 33726 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:44:10,030 autoreload 33726 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:44:10,306 autoreload 33932 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:44:41,193 autoreload 33932 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:44:41,509 autoreload 34303 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:45:04,246 autoreload 34303 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/user_use_case.py changed, reloading.
INFO 2025-02-26 17:45:04,549 autoreload 34579 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:45:24,164 autoreload 34579 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/user.py changed, reloading.
INFO 2025-02-26 17:45:24,467 autoreload 34815 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:46:24,161 autoreload 34815 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/models/__init__.py changed, reloading.
INFO 2025-02-26 17:46:24,525 autoreload 35548 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:47:01,606 autoreload 35548 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/role_serializer.py changed, reloading.
INFO 2025-02-26 17:47:01,919 autoreload 36009 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:47:07,312 autoreload 36009 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/user_serializer.py changed, reloading.
INFO 2025-02-26 17:47:07,609 autoreload 36095 8466331712 Watching for file changes with StatReloader
INFO 2025-02-26 17:47:49,839 autoreload 36095 8466331712 /Users/aemo/Projects/api_sataiga/api_sataiga/api/constants.py changed, reloading.
INFO 2025-02-26 17:47:50,167 autoreload 36599 8466331712 Watching for file changes with StatReloader
