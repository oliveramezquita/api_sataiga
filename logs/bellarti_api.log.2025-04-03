INFO 2025-04-03 00:00:18,305 autoreload 58993 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 00:00:18,701 autoreload 59344 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 00:02:12,973 autoreload 59344 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/volumetry_serializer.py changed, reloading.
INFO 2025-04-03 00:02:13,533 autoreload 60745 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 00:02:20,467 exception 60745 6192771072 Ocurrió una excepción: Object of type ObjectId is not JSON serializable
ERROR 2025-04-03 00:02:20,470 exception 60745 6192771072 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 15, in get
    return use_case.get()
           ~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 49, in get
    return ok(VolumetrySerializer(volumetries, many=True).data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 42, in ok
    response = build_response_no_message(data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 26, in build_response_no_message
    return JsonResponse(data, safe=False)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/http/response.py", line 733, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/serializers/json.py", line 106, in default
    return super().default(o)
           ~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type ObjectId is not JSON serializable

ERROR 2025-04-03 00:02:20,471 log 60745 6192771072 Internal Server Error: /api/volumetries
ERROR 2025-04-03 00:02:20,479 exception 60745 6192771072 Ocurrió una excepción: Invalid crypto padding
ERROR 2025-04-03 00:02:20,486 exception 60745 6192771072 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 293, in _load
    signature = base64url_decode(crypto_segment)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/utils.py", line 33, in base64url_decode
    return base64.urlsafe_b64decode(input_bytes)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/base64.py", line 134, in urlsafe_b64decode
    return b64decode(s)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/base64.py", line 88, in b64decode
    return binascii.a2b_base64(s, strict_mode=validate)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
binascii.Error: Incorrect padding

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 414, in initial
    self.perform_authentication(request)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 324, in perform_authentication
    request.user
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 231, in user
    self._authenticate()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 20, in authenticate
    user = self.get_user_from_token(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 28, in get_user_from_token
    payload = decode_user(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 14, in decode_user
    decoded_data = jwt.decode(
        jwt=token, key=settings.AUTH_SECRET, algorithms=["HS256"])
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
        jwt,
    ...<8 lines>...
        leeway=leeway,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 156, in decode_complete
    decoded = api_jws.decode_complete(
        jwt,
    ...<3 lines>...
        detached_payload=detached_payload,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 209, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                ~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 295, in _load
    raise DecodeError("Invalid crypto padding") from err
jwt.exceptions.DecodeError: Invalid crypto padding

ERROR 2025-04-03 00:02:20,487 log 60745 6192771072 Internal Server Error: /api/volumetries
INFO 2025-04-03 00:02:56,010 autoreload 60745 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/volumetry_serializer.py changed, reloading.
INFO 2025-04-03 00:02:56,385 autoreload 61251 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 00:03:13,504 exception 61251 6158954496 Ocurrió una excepción: Object of type ObjectId is not JSON serializable
ERROR 2025-04-03 00:03:13,507 exception 61251 6158954496 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 15, in get
    return use_case.get()
           ~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 49, in get
    return ok(VolumetrySerializer(volumetries, many=True).data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 42, in ok
    response = build_response_no_message(data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 26, in build_response_no_message
    return JsonResponse(data, safe=False)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/http/response.py", line 733, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/serializers/json.py", line 106, in default
    return super().default(o)
           ~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type ObjectId is not JSON serializable

ERROR 2025-04-03 00:03:13,507 log 61251 6158954496 Internal Server Error: /api/volumetries
ERROR 2025-04-03 00:03:13,515 exception 61251 6158954496 Ocurrió una excepción: Invalid crypto padding
ERROR 2025-04-03 00:03:13,518 exception 61251 6158954496 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 293, in _load
    signature = base64url_decode(crypto_segment)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/utils.py", line 33, in base64url_decode
    return base64.urlsafe_b64decode(input_bytes)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/base64.py", line 134, in urlsafe_b64decode
    return b64decode(s)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/base64.py", line 88, in b64decode
    return binascii.a2b_base64(s, strict_mode=validate)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
binascii.Error: Incorrect padding

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 414, in initial
    self.perform_authentication(request)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 324, in perform_authentication
    request.user
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 231, in user
    self._authenticate()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/request.py", line 384, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 20, in authenticate
    user = self.get_user_from_token(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/middlewares/authentication.py", line 28, in get_user_from_token
    payload = decode_user(token)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api_sataiga/functions.py", line 14, in decode_user
    decoded_data = jwt.decode(
        jwt=token, key=settings.AUTH_SECRET, algorithms=["HS256"])
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
        jwt,
    ...<8 lines>...
        leeway=leeway,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jwt.py", line 156, in decode_complete
    decoded = api_jws.decode_complete(
        jwt,
    ...<3 lines>...
        detached_payload=detached_payload,
    )
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 209, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                ~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/jwt/api_jws.py", line 295, in _load
    raise DecodeError("Invalid crypto padding") from err
jwt.exceptions.DecodeError: Invalid crypto padding

ERROR 2025-04-03 00:03:13,518 log 61251 6158954496 Internal Server Error: /api/volumetries
INFO 2025-04-03 00:05:00,865 autoreload 61251 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/volumetry_serializer.py changed, reloading.
INFO 2025-04-03 00:05:01,265 autoreload 62759 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 02:47:51,521 autoreload 62759 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 02:47:51,961 autoreload 93289 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 03:37:16,961 autoreload 93289 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:37:17,518 autoreload 18314 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 03:38:16,099 autoreload 18314 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:38:16,490 autoreload 19069 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 03:46:28,546 autoreload 19069 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:46:28,940 autoreload 25059 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 03:47:03,738 exception 25059 6209171456 Ocurrió una excepción: string indices must be integers, not 'str'
ERROR 2025-04-03 03:47:03,742 exception 25059 6209171456 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 52, in save
    db.insert(self.__add_up_quantities(self.data))
              ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 37, in __add_up_quantities
    proto['quantities']['instalation']) for proto in item['prototypes'])
                                                     ~~~~^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'

ERROR 2025-04-03 03:47:03,743 log 25059 6209171456 Internal Server Error: /api/volumetries
INFO 2025-04-03 03:48:07,930 autoreload 25059 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:48:08,347 autoreload 26278 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 03:48:11,325 exception 26278 6194262016 Ocurrió una excepción: string indices must be integers, not 'str'
ERROR 2025-04-03 03:48:11,327 exception 26278 6194262016 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 53, in save
    db.insert(self.__add_up_quantities(self.data))
              ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 38, in __add_up_quantities
    proto['quantities']['instalation']) for proto in item['prototypes'])
                                                     ~~~~^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'

ERROR 2025-04-03 03:48:11,327 log 26278 6194262016 Internal Server Error: /api/volumetries
INFO 2025-04-03 03:49:01,045 autoreload 26278 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:49:01,476 autoreload 26930 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 03:49:07,203 exception 26930 6159773696 Ocurrió una excepción: string indices must be integers, not 'str'
ERROR 2025-04-03 03:49:07,204 exception 26930 6159773696 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 11, in post
    return use_case.save()
           ~~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 54, in save
    db.insert(self.__add_up_quantities(self.data))
              ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 39, in __add_up_quantities
    proto['quantities']['instalation']) for proto in item['prototypes'])
                                                     ~~~~^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'

ERROR 2025-04-03 03:49:07,204 log 26930 6159773696 Internal Server Error: /api/volumetries
INFO 2025-04-03 03:53:22,714 autoreload 26930 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:53:23,130 autoreload 30104 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 03:54:48,396 autoreload 30104 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:54:48,823 autoreload 31193 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 03:54:52,188 autoreload 31193 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 03:54:52,489 autoreload 31257 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:01:17,200 autoreload 31257 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:01:17,607 autoreload 35921 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:01:30,293 autoreload 35921 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:01:30,613 autoreload 36108 8463304768 Watching for file changes with StatReloader
WARNING 2025-04-03 04:01:52,534 log 36108 6131396608 Bad Request: /api/volumetries
INFO 2025-04-03 04:02:12,094 autoreload 36108 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:02:12,503 autoreload 36616 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:02:24,024 autoreload 36616 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:02:24,363 autoreload 36760 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:07:46,633 autoreload 36760 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:07:47,026 autoreload 40697 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:07:58,522 autoreload 40697 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:07:58,825 autoreload 40858 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:08:13,449 autoreload 40858 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:08:13,739 autoreload 41077 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:08:17,056 autoreload 41077 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:08:17,320 autoreload 41110 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:09:07,838 autoreload 41110 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:09:08,228 autoreload 41765 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:16:56,508 autoreload 41765 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:16:56,888 autoreload 47517 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:16:58,162 autoreload 47517 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:16:58,369 autoreload 47528 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:17:35,256 autoreload 47528 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:17:35,565 autoreload 47983 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:17:46,062 autoreload 47983 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:17:46,340 autoreload 48143 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:18:03,992 autoreload 48143 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:18:04,333 autoreload 48359 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:18:17,871 autoreload 48359 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:18:18,158 autoreload 48540 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:24:17,994 autoreload 48540 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:24:18,411 autoreload 53005 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:27:23,481 autoreload 53005 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/models/prototype.py changed, reloading.
INFO 2025-04-03 04:27:23,914 autoreload 55268 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:27:53,082 autoreload 55268 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/models/prototype.py changed, reloading.
INFO 2025-04-03 04:27:53,437 autoreload 55630 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:27:58,842 autoreload 55630 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/models/volumetry.py changed, reloading.
INFO 2025-04-03 04:27:59,205 autoreload 55717 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:38:13,182 autoreload 55717 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 04:38:13,874 autoreload 63153 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 04:53:10,716 autoreload 63153 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/volumetry_serializer.py changed, reloading.
INFO 2025-04-03 04:53:11,289 autoreload 74155 8463304768 Watching for file changes with StatReloader
ERROR 2025-04-03 04:53:32,972 exception 74155 6190034944 Ocurrió una excepción: Object of type ObjectId is not JSON serializable
ERROR 2025-04-03 04:53:32,977 exception 74155 6190034944 Detalles del traceback:
Traceback (most recent call last):
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py", line 15, in get
    return use_case.get()
           ~~~~~~~~~~~~^^
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py", line 62, in get
    return ok(VolumetrySerializer(volumetries, many=True).data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 42, in ok
    response = build_response_no_message(data)
  File "/Users/aemo/Projects/api_sataiga/api_sataiga/api/helpers/http_responses.py", line 26, in build_response_no_message
    return JsonResponse(data, safe=False)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/http/response.py", line 733, in __init__
    data = json.dumps(data, cls=encoder, **json_dumps_params)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/Users/aemo/Projects/api_sataiga/venv/lib/python3.13/site-packages/django/core/serializers/json.py", line 106, in default
    return super().default(o)
           ~~~~~~~~~~~~~~~^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type ObjectId is not JSON serializable

ERROR 2025-04-03 04:53:32,977 log 74155 6190034944 Internal Server Error: /api/volumetries
INFO 2025-04-03 04:54:04,203 autoreload 74155 8463304768 /Users/aemo/Projects/api_sataiga/api_sataiga/api/serializers/volumetry_serializer.py changed, reloading.
INFO 2025-04-03 04:54:04,556 autoreload 74832 8463304768 Watching for file changes with StatReloader
INFO 2025-04-03 12:48:42,063 autoreload 5322 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 12:49:01,208 autoreload 5473 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:11:48,615 autoreload 5473 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 15:11:49,110 autoreload 40726 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:12:03,776 autoreload 40726 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 15:12:04,070 autoreload 40851 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:20:10,546 autoreload 40851 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py changed, reloading.
INFO 2025-04-03 15:20:10,891 autoreload 44679 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:20:19,303 autoreload 44679 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py changed, reloading.
INFO 2025-04-03 15:20:19,607 autoreload 44755 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:20:25,991 autoreload 44755 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/__init__.py changed, reloading.
INFO 2025-04-03 15:20:26,276 autoreload 44829 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:20:55,116 autoreload 44829 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/volumetry.py changed, reloading.
INFO 2025-04-03 15:20:55,442 autoreload 45073 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:21:00,807 autoreload 45073 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/views/__init__.py changed, reloading.
INFO 2025-04-03 15:21:01,087 autoreload 45134 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 15:21:25,938 autoreload 45134 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/urls.py changed, reloading.
INFO 2025-04-03 15:21:26,262 autoreload 45343 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 16:05:13,315 autoreload 45343 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 16:05:13,722 autoreload 67179 8656177216 Watching for file changes with StatReloader
WARNING 2025-04-03 16:05:16,519 log 67179 6138359808 Bad Request: /api/volumetry/67eeb149dcffb5a66926dc63
INFO 2025-04-03 16:06:20,778 autoreload 67179 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 16:06:21,146 autoreload 67721 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 16:06:45,927 autoreload 67721 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 16:06:46,286 autoreload 67926 8656177216 Watching for file changes with StatReloader
WARNING 2025-04-03 16:06:50,430 log 67926 6201012224 Bad Request: /api/volumetry/67eeb149dcffb5a66926dc63
INFO 2025-04-03 16:07:11,166 autoreload 67926 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 16:07:11,516 autoreload 68128 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:17:25,774 autoreload 68128 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:17:26,461 autoreload 44890 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:19:23,529 autoreload 44890 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:19:23,918 autoreload 46126 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:21:03,603 autoreload 46126 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:21:04,039 autoreload 47223 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:24:03,086 autoreload 47223 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:24:03,540 autoreload 49083 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:26:39,777 autoreload 49083 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:26:40,173 autoreload 50682 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:28:41,257 autoreload 50682 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:28:41,596 autoreload 51949 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 19:35:27,871 autoreload 51949 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/volumetry_use_case.py changed, reloading.
INFO 2025-04-03 19:35:28,266 autoreload 56302 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 20:02:23,448 autoreload 56302 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/prototype_use_case.py changed, reloading.
INFO 2025-04-03 20:02:23,885 autoreload 73266 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 20:02:33,456 autoreload 73266 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/prototype_use_case.py changed, reloading.
INFO 2025-04-03 20:02:33,757 autoreload 73385 8656177216 Watching for file changes with StatReloader
INFO 2025-04-03 20:03:56,174 autoreload 73385 8656177216 /Users/aemo/Projects/api_sataiga/api_sataiga/api/use_cases/prototype_use_case.py changed, reloading.
INFO 2025-04-03 20:03:56,521 autoreload 74236 8656177216 Watching for file changes with StatReloader
